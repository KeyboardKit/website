{% comment %}
  This snippet iterates over all talks in the include collection,
  extracts tags from the space-separated tags string, and creates
  a sorted list of unique tags.
{% endcomment %}

{% assign all_tags = "" | split: "" %}

{% comment %} Iterate over all items and collect tags {% endcomment %}
{% for item in include.collection %}
  {% if item.tags %}
    {% comment %} Split the tags string by spaces {% endcomment %}
    {% assign tags = item.tags %}
    {% comment %} Add each tag to the all_tags array {% endcomment %}
    {% for tag in tags %}
      {% unless tag == "" %}
        {% assign all_tags = all_tags | push: tag %}
      {% endunless %}
    {% endfor %}
  {% endif %}
{% endfor %}

{% comment %} Remove duplicates and sort {% endcomment %}
{% assign unique_tags = all_tags | uniq | sort %}

{% comment %} Display the sorted tags {% endcomment %}
{% include kankoda/tags/tag-list.html tags=unique_tags firstmost=include.firstmost class=include.class %}